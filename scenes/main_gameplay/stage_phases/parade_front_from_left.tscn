[gd_scene load_steps=2 format=3 uid="uid://dqh0q2fqvxxp6"]

[sub_resource type="GDScript" id="GDScript_uvbc5"]
script/source = "extends StagePhase

const ENEMY = preload(\"res://objects/enemy/enemy.tscn\")

var enemies: Array[Node] = []

func _ready():
	for i in 5:
		var e = ENEMY.instantiate()
		add_child(e)
		var c = EnemyController.new()
		e.add_child(c)
		c.position = Vector2(-10, -10)
		enemies.append(e)
		behavior_move_to_points(c, [
			Vector2(100 * (i + 1), 300),
			Vector2(610, -10),
		], 1.0, 1.0, true)

func _process(delta: float) -> void:
	for e in enemies:
		if is_instance_valid(e):
			return
	phase_complete.emit()
	queue_free()
"

[node name="ParadeFrontFromLeft" type="Node2D"]
script = SubResource("GDScript_uvbc5")
